<!DOCTYPE html >
<html>
        <head>
          <title>DistributionStrategy - org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy</title>
          <meta name="description" content="DistributionStrategy - org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy" />
          <meta name="keywords" content="DistributionStrategy org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../../../../index.html';
            var hash = 'org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="type">
      <div id="definition">
        <img alt="Class" src="../../../../../../../../lib/class_big.png" />
        <p id="owner"><a href="../../../../../../../package.html" class="extype" name="org">org</a>.<a href="../../../../../../package.html" class="extype" name="org.platanios">platanios</a>.<a href="../../../../../package.html" class="extype" name="org.platanios.tensorflow">tensorflow</a>.<a href="../../../../package.html" class="extype" name="org.platanios.tensorflow.api">api</a>.<a href="../../../package.html" class="extype" name="org.platanios.tensorflow.api.ops">ops</a>.<a href="../../package.html" class="extype" name="org.platanios.tensorflow.api.ops.training">training</a>.<a href="../package.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute">distribute</a>.<a href="package.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies">strategies</a></p>
        <h1>DistributionStrategy</h1><h3><span class="morelinks"><div>Related Doc:
            <a href="package.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies">package strategies</a>
          </div></span></h3><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <span class="name">DistributionStrategy</span><span class="result"> extends <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>Represents a list of devices with a state and a compute distribution policy.</p><p>The intent is that you can write an algorithm in a stylized way and it will be usable with a variety of different
<code>DistributionStrategy</code> implementations. Each descendant will implement a different strategy for distributing the
algorithm across multiple devices/machines. Furthermore, these changes can be hidden inside the specific layers and
other library classes that need special treatment to run in a distributed setting, so that most users' model
definition code can run unchanged.</p><p>First let's introduce a few high-level concepts:</p><ul><li><i>Data parallelism</i> is where we run multiple copies of the model on different slices of the input data. This is
    in contrast to <i>model parallelism</i> where we divide up a single copy of a model across multiple devices. Note
    that we only support data parallelism at this time, but plan to add support for model parallelism in the future.</li><li>A <i>tower</i> is one copy of the model, running on one slice of the input data.</li><li><i>Synchronous</i>, or more commonly <i>sync</i>, training is when the updates from each tower are aggregated together
    before updating the model variables. This is in contrast to <i>asynchronous</i>, or <i>async</i> training where each
    tower updates the model variables independently.</li><li>Furthermore you might run your computation on multiple devices on one machine (or &quot;host&quot;), or on multiple
    machines/hosts. If you are running on multiple machines, you might have a single master host that drives
    computation across all of them, or you might have multiple clients driving the computation asynchronously.</li></ul><p>To distribute an algorithm, we might use some of these ingredients:</p><ul><li><i>Parameter servers</i>: These are hosts that hold a single copy of parameters/variables. All towers that want to
    operate on a variable retrieve it at the beginning of a step and send an update to be applied at the end of the
    step. Can support either sync or async training.</li><li><i>Mirrored variables</i>: These are variables that are copied to multiple devices, where we keep the copies in
    sync by applying the same updates to every copy. Normally would only be used with sync training.</li><li><i>Reductions</i>: A reduction is a method of aggregating multiple values into one value, like &quot;sum&quot; or &quot;mean&quot;. If
    doing sync training, we will perform a reduction on the gradients to a parameter from each tower before applying
    the update. <code>Allreduce</code> is an algorithm for performing a reduction on values from multiple devices and making
    the result available on all of those devices.</li><li>In the future we will have support for TensorFlows' partitioned variables, where a single variable is split
    across multiple devices.</li></ul><p>We have a few approaches we want to support:</p><ul><li>Code written (as if) with no knowledge of class <code>DistributionStrategy</code>. This code should work as before, even if
    some of the layers, etc., used by that code are written to be distribution-aware. This is done by having a
    default <code>DistributionStrategy</code> that gives ordinary behavior, and by default being in a single tower context.</li><li>Ordinary model code that you want to run using a specific <code>DistributionStrategy</code>. This can be as simple as:</li></ul><pre>d.scope {
  <span class="kw">val</span> iterator = d.distributeDataset(dataset)
  <span class="kw">val</span> towerTrainOps = d.forEachTower(towerFn, iterator.next())
  <span class="kw">val</span> trainOp = tf.group(d.unwrap(towerTrainOps))
}</pre><p>    This takes an ordinary <code>dataset</code> and <code>towerFn</code> and runs it distributed using a particular <code>DistributionStrategy</code>
    in <code>d</code>. Any variables created in <code>towerFn</code> are created using <code>d</code>'s policy, and library functions called by
    <code>towerFn</code> can use the <code>currentTowerContext</code> API to get enhanced behavior in this case. Note that in the future
    we will add support for initializable dataset iterators, at which point this example code will change.</p><ul><li>If you want to write a distributed algorithm, you may use any of the <code>DistributionStrategy</code> APIs inside a
    <code>d.scope</code> block of code.</li></ul><p>Lower-level concepts:</p><ul><li><i>Wrapped values</i>: In order to represent values parallel across devices (either towers or the devices
    associated with a particular value), we wrap them in a <code>PerDevice</code> or <code>Mirrored</code> object that contains a map from
    device to values. <code>PerDevice</code> is used when the value may be different across devices, and <code>Mirrored</code> is used
    when the value is the same across devices.</li><li><i>Unwrapping and merging</i>: Consider calling a function <code>fn</code> on multiple devices, like <code>forEachTower(fn, w)</code>
    with an argument <code>w</code> that is a wrapped value. This means that <code>w</code> will have a map taking tower device <code>d0</code> to
    <code>w0</code>, tower device <code>d1</code> to <code>w1</code>, etc. <code>forEachTower()</code> unwraps <code>w</code> before calling <code>fn</code>, and so it calls <code>fn(w0)</code>
    on <code>d0</code>, <code>fn(w1)</code> on <code>d1</code>, etc. It then merges the return values from <code>fn()</code>, which can possibly result in
    wrapped values. For example, let's say <code>fn()</code> returns a tuple with three components: <code>(x, a, v0)</code> from tower 0,
    <code>(x, b, v1)</code> from tower 1, etc. If the first component is the same object <code>x</code> for every tower, then the first
    component of the merged result will also be <code>x</code>. If the second component is different (<code>a</code>, <code>b</code>, ...) for each
    tower, then the merged value will have a wrapped map from tower device to the different values. If the third
    component is the members of a mirrored variable (<code>v</code> maps <code>d0</code> to <code>v0</code>, <code>d1</code> to <code>v1</code>, etc.), then the merged
    result will be that mirrored variable (i.e., <code>v</code>).</li><li><i>Tower context vs. cross-tower context</i>: Tower context is when we are in some function that is being called
    once for each tower. Otherwise, we are in a cross-tower context, which is useful for calling
    <code>DistributionStrategy</code> methods which operate across towers (like <code>reduce()</code>). By default you start in a tower
    context (the default &quot;single tower context&quot;) and then some methods can switch you back and forth,
    as described below.</li><li><i>Worker devices vs. parameter devices</i>: Most tower computations will happen on worker devices. Since we do not
    yet support model parallelism, there will be one worker device per tower. When using parameter servers (see
    above), the set of devices holding variables may be different, otherwise the parameter devices might match the
    worker devices.</li><li>Non-slot devices are some subset of the parameter devices where we put all the non-slot variables. We need to
    ensure that all non-slot variables are allocated on the same device, or mirrored across the same set of devices.
    If you have some variable that you want to colocate all the non-slot variables with, you can use
    <code>colocateVariablesWith()</code> to get the remaining non-slot variables on the same device. Otherwise, you can use
    <code>nonSlotDevices()</code> to pick a consistent set of devices to pass to both <code>colocateVariablesWith()</code> and
    <code>updateNonSlot()</code>.</li></ul><p>When using a <code>DistributionStrategy</code>, we have a new type dimension called <i>locality</i> that says what values are
compatible with which APIs:</p><ul><li><code>T</code>: Different value for each tower (e.g., a <code>PerDevice</code>-wrapped value).</li><li><code>M</code>: Value is &quot;mirrored&quot; across towers. That is, there are copies with the same value on each tower (e.g., a
    <code>Mirrored</code>-wrapped value).</li><li><code>V(v)</code>: Value is &quot;mirrored&quot; across all the devices which have a copy of variable <code>v</code> (also a <code>Mirrored</code>-wrapped
    value, but over parameter devices instead of worker devices).</li><li><code>N</code>: Value is &quot;mirrored&quot; across all the &quot;non-slot&quot; devices.</li></ul><p>Rules for methods with respect to locality and single-tower vs. cross-tower context:</p><ul><li><code>d.scope()</code>: Default single-tower context -&gt; cross-tower context for <code>d</code>.</li><li><code>d.colocateVariablesWith(v)</code>: In tower/cross-tower context, variables will be created with locality <code>V(v)</code>. That
    is, if we write <code>d.colocateVariablesWith(v1) { val v2 = tf.variable(...) }</code>, then <code>v2</code> will have locality
    <code>V(v1)</code> (i.e., locality <code>V(v2)</code> will equal <code>V(v1)</code>).</li><li><code>d.colocateVariablesWith(d.nonSlotDevices(...))</code>: In tower/cross-tower context, variables will be created with
    locality <code>N</code>.</li><li><code>v = tf.variable(...)</code>: In tower/cross-tower context, creates a variable (which by definition will have locality
    <code>V(v)</code>, though will match another locality if inside a <code>colocateVariablesWith()</code> scope).</li><li><code>d.distributeDataset(dataset)</code>: In cross-tower context, produces an iterator with locality <code>T</code>.</li><li><code>d.broadcast(t)</code>: In cross-tower context, produces a value with locality <code>M</code>.</li><li><code>d.broadcast(t, v)</code>: In cross-tower context, produces a value with locality <code>V(v)</code>.</li><li><code>d.forEachTower(fn, ...)</code>: In cross-tower context, runs <code>fn()</code> in a tower context (and so may call
    <code>currentTowerContext</code> and use its API, including <code>mergeCall()</code> to get back to cross-tower context), once for
    each tower. May use values with locality <code>T</code> or <code>M</code>, and any variable.</li><li><code>d.reduce(m, t)</code>: In cross-tower context, accepts <code>t</code> with locality <code>T</code> and produces a value with locality <code>M</code>.</li><li><code>d.reduce(m, t, v)</code>: In cross-tower context, accepts <code>t</code> with locality <code>T</code> and produces a value with locality
    <code>V(v)</code>.</li><li><code>d.batchReduce(m, Seq((t, v)))</code>: See <code>d.reduce()</code>.</li><li><code>d.update(v, fn, ...)</code>: In cross-tower context, runs <code>fn()</code> once for each device <code>v</code> is copied to. All inputs
    should have locality <code>V(v)</code>, and the output will have locality <code>V(v)</code> as well.</li><li><code>d.updateNonSlot(d.nonSlotDevices(), fn)</code>: In cross-tower context, like <code>d.update()</code> except with locality <code>N</code>.</li><li><code>d.fetch(t)</code>: Copy <code>t</code> with any locality to the client's CPU device.</li></ul><p>The standard pattern for updating variables is to:</p><ol class="decimal"><li>Wrap your input dataset in <code>d.distributeDataset()</code>.
  2. Define each tower <code>d.forEachTower()</code> up to the point of getting a list of gradient, variable pairs.
  3. Call <code>d.reduce(&quot;sum&quot;, t, v)</code> or <code>d.batchReduce()</code> to sum the gradients (with locality <code>T</code>) into values with
     locality <code>V(v)</code>.
  4. Call <code>d.update(v)</code> for each variable to update its value.</li></ol><p>Steps 3 and 4 are done automatically by the <code>Optimizer</code> class if you call its <code>applyGradients</code> method from within a
tower context. Otherwise, you can manually call its <code>distributedApply</code> method in a cross-tower context.</p><p>Another thing you might want to do in the middle of your tower function is an all-reduce of some intermediate value,
using <code>d.reduce()</code> or <code>d.batchReduce()</code> without supplying a variable as the destination.</p><p>Layers should expect to be called in a tower context, and can use the <code>currentTowerContext</code> function to get a
<code>TowerContext</code> object. The <code>TowerContext</code> object has a <code>mergeCall()</code> method for entering cross-tower context where
you can use <code>reduce()</code> (or <code>batchReduce()</code>) and then optionally <code>update()</code> to update state.</p><p>You may use this API whether or not a <code>DistributionStrategy</code> is being used, since there is a default implementation
of <code>TowerContext</code> and <code>DistributionStrategy</code>. Or you can use the <code>currentTowerContext.isSingleTower</code> property to run
different code in the distributed vs. single tower cases.
</p></div><dl class="attributes block"> <dt>Source</dt><dd><a href="https://github.com/eaplatanios/tensorflow_scala/tree/master/api/src/main/scala/org/platanios/tensorflow/api/ops/training/distribute/strategies/DistributionStrategy.scala" target="_blank">DistributionStrategy.scala</a></dd></dl><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a>, <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Any" class="extype" target="_top">Any</a></div>
        </div><div class="toggleContainer block">
            <span class="toggle">Known Subclasses</span>
            <div class="subClasses hiddenContent"><a href="DefaultStrategy.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DefaultStrategy">DefaultStrategy</a>, <a href="MirroredStrategy.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.MirroredStrategy">MirroredStrategy</a></div>
          </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By Inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy"><span>DistributionStrategy</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show All</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        <div id="constructors" class="members">
              <h3>Instance Constructors</h3>
              <ol><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#&lt;init&gt;" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="&lt;init&gt;():org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy"></a>
      <a id="&lt;init&gt;:DistributionStrategy"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">new</span>
      </span>
      <span class="symbol">
        <span class="name">DistributionStrategy</span><span class="params">()</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@&lt;init&gt;():org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Abstract Value Members</h3>
              <ol><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#broadcast" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="broadcast[O&lt;:org.platanios.tensorflow.api.ops.OutputLike](value:O,devices:Seq[org.platanios.tensorflow.api.core.DeviceSpecification])(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[O]"></a>
      <a id="broadcast[O&lt;:OutputLike](O,Seq[DeviceSpecification])(CrossTowerContext):MirroredValue[O]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">broadcast</span><span class="tparams">[<span name="O">O &lt;: <a href="../../../OutputLike.html" class="extype" name="org.platanios.tensorflow.api.ops.OutputLike">OutputLike</a></span>]</span><span class="params">(<span name="value">value: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.broadcast.O">O</span></span>, <span name="devices">devices: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.platanios.tensorflow.api.core.DeviceSpecification">DeviceSpecification</span>] = <span class="symbol">Seq.empty</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <a href="../values/MirroredValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue">MirroredValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.broadcast.O">O</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@broadcast[O&lt;:org.platanios.tensorflow.api.ops.OutputLike](value:O,devices:Seq[org.platanios.tensorflow.api.core.DeviceSpecification])(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[O]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Mirrors <code>value</code> to all worker devices.</p><div class="fullcomment"><div class="comment cmt"><p>Mirrors <code>value</code> to all worker devices.
</p></div><dl class="paramcmts block"><dt class="param">value</dt><dd class="cmt"><p>Value to broadcast.</p></dd><dt class="param">devices</dt><dd class="cmt"><p>Destination devices.</p></dd><dt>returns</dt><dd class="cmt"><p>Mirrored value.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#createVariable" visbl="prt" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="createVariable:org.platanios.tensorflow.api.ops.training.distribute.ColocatedVariableGetter"></a>
      <a id="createVariable:ColocatedVariableGetter"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">createVariable</span><span class="result">: <a href="../package$$ColocatedVariableGetter.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.ColocatedVariableGetter">ColocatedVariableGetter</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@createVariable:org.platanios.tensorflow.api.ops.training.distribute.ColocatedVariableGetter" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected </dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#fetch" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="fetch(variable:org.platanios.tensorflow.api.ops.training.distribute.values.DistributedVariable,destination:String,fn:org.platanios.tensorflow.api.ops.Output=&gt;org.platanios.tensorflow.api.ops.Output)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.Output"></a>
      <a id="fetch(DistributedVariable,String,(Output)⇒Output)(CrossTowerContext):Output"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">fetch</span><span class="params">(<span name="variable">variable: <a href="../values/DistributedVariable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.DistributedVariable">DistributedVariable</a></span>, <span name="destination">destination: <span class="extype" name="scala.Predef.String">String</span> = <span class="symbol">&quot;/device:CPU:0&quot;</span></span>, <span name="fn">fn: (<a href="../../../Output.html" class="extype" name="org.platanios.tensorflow.api.ops.Output">Output</a>) ⇒ <a href="../../../Output.html" class="extype" name="org.platanios.tensorflow.api.ops.Output">Output</a> = <span class="symbol">(o: Output) =&gt; o</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <a href="../../../Output.html" class="extype" name="org.platanios.tensorflow.api.ops.Output">Output</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@fetch(variable:org.platanios.tensorflow.api.ops.training.distribute.values.DistributedVariable,destination:String,fn:org.platanios.tensorflow.api.ops.Output=&gt;org.platanios.tensorflow.api.ops.Output)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.Output" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns a copy of <code>fn(variable.value)</code> on <code>destination</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Returns a copy of <code>fn(variable.value)</code> on <code>destination</code>. This is useful for getting a mirrored variable value onto
a device. The method will attempt to avoid a copy by checking if the value is already on the destination device.
</p></div><dl class="paramcmts block"><dt class="param">variable</dt><dd class="cmt"><p>Variable (which may be mirrored) to copy and fetch.</p></dd><dt class="param">destination</dt><dd class="cmt"><p>Device to copy the variable value to.</p></dd><dt class="param">fn</dt><dd class="cmt"><p>Optional function to apply to the value on the source device, before copying.</p></dd><dt>returns</dt><dd class="cmt"><p>Fetched value in <code>device</code>.</p></dd></dl><dl class="attributes block"> <dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="scala.this.throws.&lt;init&gt;$default$1[org.platanios.tensorflow.api.core.exception.InvalidArgumentException]">...</span>
    </span>)</span>
              
        </dd><dt>Exceptions thrown</dt><dd><span class="cmt"><p><span class="extype" name="InvalidArgumentException"><code>InvalidArgumentException</code></span> If there is an issue with the provided variable.</p></span></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#forEachTower" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="forEachTower[T,R](fn:Seq[T]=&gt;R,values:Seq[org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[T]])(implicitevidence$1:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):R"></a>
      <a id="forEachTower[T,R]((Seq[T])⇒R,Seq[DistributedValue[T]])(Distributable[T],CrossTowerContext):R"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">forEachTower</span><span class="tparams">[<span name="T">T</span>, <span name="R">R</span>]</span><span class="params">(<span name="fn">fn: (<span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.forEachTower.T">T</span>]) ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.forEachTower.R">R</span></span>, <span name="values">values: <span class="extype" name="scala.Seq">Seq</span>[<a href="../values/DistributedValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue">DistributedValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.forEachTower.T">T</span>]]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.forEachTower.T">T</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.forEachTower.R">R</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@forEachTower[T,R](fn:Seq[T]=&gt;R,values:Seq[org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[T]])(implicitevidence$1:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):R" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Runs <code>fn</code> once per tower.</p><div class="fullcomment"><div class="comment cmt"><p>Runs <code>fn</code> once per tower.</p><p><code>fn</code> may call <code>tf.currentTowerContext</code> to access fields and methods such as <code>towerID</code> and <code>mergeCall()</code>.
<code>mergeCall()</code> is used to communicate between the towers and re-enter the cross-tower context. All towers pause
their execution having encountered a <code>mergeCall()</code> call. After that the <code>mergeFn</code>-function is executed. Its
results are then unwrapped and given back to each tower call. After that execution resumes until <code>fn</code> is complete
or another <code>mergeCall()</code> is encountered.</p><p>For example:</p><pre><span class="cmt">// Called once in "cross-tower" context.</span>
<span class="kw">def</span> mergeFn(distributionStrategy: DistributionStrategy, threePlusTowerID: <span class="std">Int</span>): tf.Output = {
  <span class="cmt">// Sum the values across towers.</span>
  tf.addN(distribution.unwrap(threePlusTowerID))
}

<span class="cmt">// Called once per tower in `distributionStrategy`, in a "tower" context.</span>
<span class="kw">def</span> fn(three: <span class="std">Int</span>): Output = {
  <span class="kw">val</span> towerContext = tf.currentTowerContext
  <span class="kw">val</span> v = three + towerContext.towerID
  <span class="cmt">// Computes the sum of the `v` values across all towers.</span>
  <span class="kw">val</span> s = towerContext.mergeCall(mergeFn(_, v))
  s + v
}

distributionStrategy.scope {
  <span class="cmt">// In "cross-tower" context</span>
  ...
  <span class="kw">val</span> mergedResults = distributionStrategy.forEachTower(() <span class="kw">=&gt;</span> fn(<span class="num">3</span>))
  <span class="cmt">// `mergedResults` has the values from every tower execution of `fn`.</span>
  <span class="kw">val</span> resultsList = distributionStrategy.unwrap(mergedResults)
}</pre></div><dl class="paramcmts block"><dt class="param">fn</dt><dd class="cmt"><p>Function that will be run once per tower.</p></dd><dt class="param">values</dt><dd class="cmt"><p>Wrapped values that will be unwrapped when invoking <code>fn</code> on each tower.</p></dd><dt>returns</dt><dd class="cmt"><p>Merged return value of <code>fn</code> across all towers.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#isSingleTower" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="isSingleTower:Boolean"></a>
      <a id="isSingleTower:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">isSingleTower</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@isSingleTower:Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns <code>true</code> if there is only a single tower, and <code>false</code>, otherwise.</p><div class="fullcomment"><div class="comment cmt"><p>Returns <code>true</code> if there is only a single tower, and <code>false</code>, otherwise.</p><p>If <code>true</code>, <code>forEachTower(fn)</code> will only call <code>fn</code> once.
If <code>false</code>, <code>forEachTower(fn)</code> may call <code>fn</code> multiple times.
</p></div></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#nonSlotDevices" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="nonSlotDevices(variables:Seq[org.platanios.tensorflow.api.ops.variables.Variable]):Set[org.platanios.tensorflow.api.core.DeviceSpecification]"></a>
      <a id="nonSlotDevices(Seq[variables.Variable]):Set[DeviceSpecification]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">nonSlotDevices</span><span class="params">(<span name="variables">variables: <span class="extype" name="scala.Seq">Seq</span>[<a href="../../../variables/Variable.html" class="extype" name="org.platanios.tensorflow.api.ops.variables.Variable">variables.Variable</a>]</span>)</span><span class="result">: <span class="extype" name="scala.Predef.Set">Set</span>[<span class="extype" name="org.platanios.tensorflow.api.core.DeviceSpecification">DeviceSpecification</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@nonSlotDevices(variables:Seq[org.platanios.tensorflow.api.ops.variables.Variable]):Set[org.platanios.tensorflow.api.core.DeviceSpecification]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns the devices used for non-slot variables.</p><div class="fullcomment"><div class="comment cmt"><p>Returns the devices used for non-slot variables.</p><p>Create variables on these devices in a <code>colocateVariablesWith(nonSlotDevices(...)):</code> block. Then, update them
using <code>updateNonSlot()</code>.
</p></div><dl class="paramcmts block"><dt class="param">variables</dt><dd class="cmt"><p>Variables being optimized.</p></dd><dt>returns</dt><dd class="cmt"><p>Colocation ops for non-slot variables.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#numTowers" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="numTowers:Int"></a>
      <a id="numTowers:Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">numTowers</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Int" class="extype" target="_top">Int</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@numTowers:Int" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns number of towers, for purposes of averaging across towers.</p>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#parameterDevices" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="parameterDevices:Set[String]"></a>
      <a id="parameterDevices:Set[String]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">parameterDevices</span><span class="result">: <span class="extype" name="scala.Predef.Set">Set</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@parameterDevices:Set[String]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns the devices used for variable and updates placement.</p>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#reduce" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="reduce[D](reduction:org.platanios.tensorflow.api.ops.training.distribute.Reduction,value:org.platanios.tensorflow.api.ops.training.distribute.values.PerDeviceValue[org.platanios.tensorflow.api.ops.OutputLike],destination:Option[D])(implicitevidence$2:org.platanios.tensorflow.api.ops.training.distribute.Destination[D],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[org.platanios.tensorflow.api.ops.OutputLike]"></a>
      <a id="reduce[D](Reduction,PerDeviceValue[OutputLike],Option[D])(Destination[D],CrossTowerContext):MirroredValue[OutputLike]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">reduce</span><span class="tparams">[<span name="D">D</span>]</span><span class="params">(<span name="reduction">reduction: <a href="../Reduction.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Reduction">Reduction</a></span>, <span name="value">value: <a href="../values/PerDeviceValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.PerDeviceValue">PerDeviceValue</a>[<a href="../../../OutputLike.html" class="extype" name="org.platanios.tensorflow.api.ops.OutputLike">OutputLike</a>]</span>, <span name="destination">destination: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Option" class="extype" target="_top">Option</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.reduce.D">D</span>] = <span class="symbol">None</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Destination.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Destination">Destination</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.reduce.D">D</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <a href="../values/MirroredValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue">MirroredValue</a>[<a href="../../../OutputLike.html" class="extype" name="org.platanios.tensorflow.api.ops.OutputLike">OutputLike</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@reduce[D](reduction:org.platanios.tensorflow.api.ops.training.distribute.Reduction,value:org.platanios.tensorflow.api.ops.training.distribute.values.PerDeviceValue[org.platanios.tensorflow.api.ops.OutputLike],destination:Option[D])(implicitevidence$2:org.platanios.tensorflow.api.ops.training.distribute.Destination[D],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[org.platanios.tensorflow.api.ops.OutputLike]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines values across towers into one value.</p><div class="fullcomment"><div class="comment cmt"><p>Combines values across towers into one value.
</p></div><dl class="paramcmts block"><dt class="param">reduction</dt><dd class="cmt"><p>Reduction method to use.</p></dd><dt class="param">value</dt><dd class="cmt"><p>Value to reduce.</p></dd><dt class="param">destination</dt><dd class="cmt"><p>Optional destination on which to copy the reduced value.</p></dd><dt>returns</dt><dd class="cmt"><p>Reduced value.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#unwrap" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="unwrap[T](value:org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[T])(implicitevidence$9:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):Seq[T]"></a>
      <a id="unwrap[T](DistributedValue[T])(Distributable[T],CrossTowerContext):Seq[T]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">unwrap</span><span class="tparams">[<span name="T">T</span>]</span><span class="params">(<span name="value">value: <a href="../values/DistributedValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue">DistributedValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.unwrap.T">T</span>]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.unwrap.T">T</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.unwrap.T">T</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@unwrap[T](value:org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[T])(implicitevidence$9:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):Seq[T]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns the list of all per-device values contained in <code>value</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Returns the list of all per-device values contained in <code>value</code>.
</p></div><dl class="paramcmts block"><dt class="param">value</dt><dd class="cmt"><p>A value returned by <code>forEachTower()</code>, or a variable created in <code>scope</code>.</p></dd><dt>returns</dt><dd class="cmt"><p>Sequence of values contained in <code>value</code>.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#update" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="update[T,R](variable:org.platanios.tensorflow.api.ops.training.distribute.values.MirroredVariable,fn:(org.platanios.tensorflow.api.ops.variables.Variable,Seq[T])=&gt;R,arguments:Seq[org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[T]])(implicitevidence$4:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitevidence$5:org.platanios.tensorflow.api.ops.training.distribute.Distributable[R],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[R]"></a>
      <a id="update[T,R](MirroredVariable,(variables.Variable,Seq[T])⇒R,Seq[MirroredValue[T]])(Distributable[T],Distributable[R],CrossTowerContext):MirroredValue[R]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">update</span><span class="tparams">[<span name="T">T</span>, <span name="R">R</span>]</span><span class="params">(<span name="variable">variable: <a href="../values/MirroredVariable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredVariable">MirroredVariable</a></span>, <span name="fn">fn: (<a href="../../../variables/Variable.html" class="extype" name="org.platanios.tensorflow.api.ops.variables.Variable">variables.Variable</a>, <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.update.T">T</span>]) ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.update.R">R</span></span>, <span name="arguments">arguments: <span class="extype" name="scala.Seq">Seq</span>[<a href="../values/MirroredValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue">MirroredValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.update.T">T</span>]]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.update.T">T</span>]</span>, <span name="arg1">arg1: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.update.R">R</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <a href="../values/MirroredValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue">MirroredValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.update.R">R</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@update[T,R](variable:org.platanios.tensorflow.api.ops.training.distribute.values.MirroredVariable,fn:(org.platanios.tensorflow.api.ops.variables.Variable,Seq[T])=&gt;R,arguments:Seq[org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[T]])(implicitevidence$4:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitevidence$5:org.platanios.tensorflow.api.ops.training.distribute.Distributable[R],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[R]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Runs <code>fn</code> to update <code>variable</code> using inputs mirrored to the same devices.</p><div class="fullcomment"><div class="comment cmt"><p>Runs <code>fn</code> to update <code>variable</code> using inputs mirrored to the same devices.</p><p>If <code>variable</code> is mirrored across multiple devices, then this method implements logic like:</p><pre><span class="kw">val</span> results = variable.index.map {
  <span class="kw">case</span> (deviceSpec, variable) <span class="kw">=&gt;</span> tf.createWith(device = deviceSpec.toString) {
    fn(variable)
  }
}
merged(results)</pre><p>Otherwise this returns <code>fn(variable)</code> colocated with <code>variable</code>.
</p></div><dl class="paramcmts block"><dt class="param">variable</dt><dd class="cmt"><p>Variable to update.</p></dd><dt class="param">fn</dt><dd class="cmt"><p>Update function to use.</p></dd><dt class="param">arguments</dt><dd class="cmt"><p>Mirrored arguments that should be passed to <code>fn</code>.</p></dd><dt>returns</dt><dd class="cmt"><p>Merged return value of <code>fn</code> across all towers.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#updateNonSlot" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="updateNonSlot[D,T,R](colocateWith:D,fn:Seq[T]=&gt;R,arguments:Seq[org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[T]])(implicitevidence$6:org.platanios.tensorflow.api.ops.training.distribute.Destination[D],implicitevidence$7:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitevidence$8:org.platanios.tensorflow.api.ops.training.distribute.Distributable[R],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[R]"></a>
      <a id="updateNonSlot[D,T,R](D,(Seq[T])⇒R,Seq[MirroredValue[T]])(Destination[D],Distributable[T],Distributable[R],CrossTowerContext):MirroredValue[R]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">updateNonSlot</span><span class="tparams">[<span name="D">D</span>, <span name="T">T</span>, <span name="R">R</span>]</span><span class="params">(<span name="colocateWith">colocateWith: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.D">D</span></span>, <span name="fn">fn: (<span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.T">T</span>]) ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.R">R</span></span>, <span name="arguments">arguments: <span class="extype" name="scala.Seq">Seq</span>[<a href="../values/MirroredValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue">MirroredValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.T">T</span>]]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Destination.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Destination">Destination</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.D">D</span>]</span>, <span name="arg1">arg1: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.T">T</span>]</span>, <span name="arg2">arg2: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.R">R</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <a href="../values/MirroredValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue">MirroredValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.updateNonSlot.R">R</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@updateNonSlot[D,T,R](colocateWith:D,fn:Seq[T]=&gt;R,arguments:Seq[org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[T]])(implicitevidence$6:org.platanios.tensorflow.api.ops.training.distribute.Destination[D],implicitevidence$7:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitevidence$8:org.platanios.tensorflow.api.ops.training.distribute.Distributable[R],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.training.distribute.values.MirroredValue[R]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Runs <code>fn</code> on the devices specified by <code>colocateWith</code>, with the provided arguments.</p><div class="fullcomment"><div class="comment cmt"><p>Runs <code>fn</code> on the devices specified by <code>colocateWith</code>, with the provided arguments.
</p></div><dl class="paramcmts block"><dt class="param">colocateWith</dt><dd class="cmt"><p>Destination on which to execute <code>fn</code>.</p></dd><dt class="param">fn</dt><dd class="cmt"><p>Function to use for the update.</p></dd><dt class="param">arguments</dt><dd class="cmt"><p>Mirrored arguments that should be passed to <code>fn</code>.</p></dd><dt>returns</dt><dd class="cmt"><p>Merged return value of <code>fn</code> across all towers.</p></dd></dl><dl class="attributes block"> <dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="scala.this.throws.&lt;init&gt;$default$1[org.platanios.tensorflow.api.core.exception.InvalidArgumentException]">...</span>
    </span>)</span>
              
        </dd><dt>Exceptions thrown</dt><dd><span class="cmt"><p><span class="extype" name="InvalidArgumentException"><code>InvalidArgumentException</code></span> If the provided <code>colocateWith</code> argument is invalid (e.g., too many devices).</p></span></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#workerDeviceIndex" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="workerDeviceIndex(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):Map[org.platanios.tensorflow.api.core.DeviceSpecification,Int]"></a>
      <a id="workerDeviceIndex(CrossTowerContext):Map[DeviceSpecification,Int]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">workerDeviceIndex</span><span class="params">(<span class="implicit">implicit </span><span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Map">Map</span>[<span class="extype" name="org.platanios.tensorflow.api.core.DeviceSpecification">DeviceSpecification</span>, <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Int" class="extype" target="_top">Int</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@workerDeviceIndex(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):Map[org.platanios.tensorflow.api.core.DeviceSpecification,Int]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns a map from worker devices to indices.</p><div class="fullcomment"><div class="comment cmt"><p>Returns a map from worker devices to indices.</p><p>TODO: [DISTRIBUTE] Settle on the interface of <code>forEachTower()</code> first.
This map might be passed as an argument to <code>forEachTower()</code>, as in:</p><pre>distributionStrategy.scope {
  <span class="kw">def</span> fn(deviceIndex: <span class="std">Int</span>): <span class="std">Unit</span> = {
    <span class="cmt">// `fn` is being executed on device `distributionStrategy.workerDevices(deviceIndex)`.</span>
  }
  distributionStrategy.forEachTower(fn, distributionStrategy.workerDeviceIndex)
}</pre></div></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#workerDevices" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="workerDevices:Set[String]"></a>
      <a id="workerDevices:Set[String]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">workerDevices</span><span class="result">: <span class="extype" name="scala.Predef.Set">Set</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@workerDevices:Set[String]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Returns the devices used to run <code>forEachTower()</code> calls.</p>
    </li></ol>
            </div>

        <div id="values" class="values members">
              <h3>Concrete Value Members</h3>
              <ol><li name="scala.AnyRef#!=" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="!=(x$1:Any):Boolean"></a>
      <a id="!=(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $bang$eq" class="name">!=</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Any" class="extype" target="_top">Any</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@!=(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef###" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="##():Int"></a>
      <a id="##():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $hash$hash" class="name">##</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Int" class="extype" target="_top">Int</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@##():Int" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#==" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="==(x$1:Any):Boolean"></a>
      <a id="==(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $eq$eq" class="name">==</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Any" class="extype" target="_top">Any</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@==(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.Any#asInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="asInstanceOf[T0]:T0"></a>
      <a id="asInstanceOf[T0]:T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Any.asInstanceOf.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@asInstanceOf[T0]:T0" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#batchReduce" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="batchReduce[D](reduction:org.platanios.tensorflow.api.ops.training.distribute.Reduction,valueDestinationPairs:Seq[(org.platanios.tensorflow.api.ops.training.distribute.values.PerDeviceValue[org.platanios.tensorflow.api.ops.OutputLike],Option[D])])(implicitevidence$3:org.platanios.tensorflow.api.ops.training.distribute.Destination[D],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):Seq[org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[org.platanios.tensorflow.api.ops.OutputLike]]"></a>
      <a id="batchReduce[D](Reduction,Seq[(PerDeviceValue[OutputLike],Option[D])])(Destination[D],CrossTowerContext):Seq[DistributedValue[OutputLike]]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">batchReduce</span><span class="tparams">[<span name="D">D</span>]</span><span class="params">(<span name="reduction">reduction: <a href="../Reduction.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Reduction">Reduction</a></span>, <span name="valueDestinationPairs">valueDestinationPairs: <span class="extype" name="scala.Seq">Seq</span>[(<a href="../values/PerDeviceValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.PerDeviceValue">PerDeviceValue</a>[<a href="../../../OutputLike.html" class="extype" name="org.platanios.tensorflow.api.ops.OutputLike">OutputLike</a>], <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Option" class="extype" target="_top">Option</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.batchReduce.D">D</span>])]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Destination.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Destination">Destination</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.batchReduce.D">D</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <span class="extype" name="scala.Seq">Seq</span>[<a href="../values/DistributedValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue">DistributedValue</a>[<a href="../../../OutputLike.html" class="extype" name="org.platanios.tensorflow.api.ops.OutputLike">OutputLike</a>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@batchReduce[D](reduction:org.platanios.tensorflow.api.ops.training.distribute.Reduction,valueDestinationPairs:Seq[(org.platanios.tensorflow.api.ops.training.distribute.values.PerDeviceValue[org.platanios.tensorflow.api.ops.OutputLike],Option[D])])(implicitevidence$3:org.platanios.tensorflow.api.ops.training.distribute.Destination[D],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):Seq[org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[org.platanios.tensorflow.api.ops.OutputLike]]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines multiple <code>reduce</code> calls into one for faster execution.</p><div class="fullcomment"><div class="comment cmt"><p>Combines multiple <code>reduce</code> calls into one for faster execution.
</p></div><dl class="paramcmts block"><dt class="param">reduction</dt><dd class="cmt"><p>Reduction method to use.</p></dd><dt class="param">valueDestinationPairs</dt><dd class="cmt"><p>Sequence of values to reduce pairs with destinations to copy the reduced values to.</p></dd><dt>returns</dt><dd class="cmt"><p>Reduced values.</p></dd></dl></div>
    </li><li name="scala.AnyRef#clone" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="clone():Object"></a>
      <a id="clone():AnyRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">clone</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@clone():Object" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../../../../../../../../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.CloneNotSupportedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#colocateVariablesWith" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="colocateVariablesWith[R](colocationOps:Set[org.platanios.tensorflow.api.ops.Op])(block:=&gt;R)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionContext):R"></a>
      <a id="colocateVariablesWith[R](Set[Op])(⇒R)(DistributionContext):R"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">colocateVariablesWith</span><span class="tparams">[<span name="R">R</span>]</span><span class="params">(<span name="colocationOps">colocationOps: <span class="extype" name="scala.Predef.Set">Set</span>[<a href="../../../Op.html" class="extype" name="org.platanios.tensorflow.api.ops.Op">Op</a>]</span>)</span><span class="params">(<span name="block">block: ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.colocateVariablesWith.R">R</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="context">context: <a href="DistributionContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionContext">DistributionContext</a></span>)</span><span class="result">: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.colocateVariablesWith.R">R</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@colocateVariablesWith[R](colocationOps:Set[org.platanios.tensorflow.api.ops.Op])(block:=&gt;R)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionContext):R" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Executes <code>block</code> within a scope that controls which devices variables will be created on.</p><div class="fullcomment"><div class="comment cmt"><p>Executes <code>block</code> within a scope that controls which devices variables will be created on.</p><p>No operations should be added to the graph inside this scope; it should only be used when creating variables (some
implementations work by changing variable creation and others work by using a <code>colocateWith</code> scope). This may only
be used inside <code>DistributionStrategy.scope</code>.</p><p>For example:</p><pre>distributionStrategy.scope {
  <span class="kw">val</span> variable1 = tf.variable(...)
  distributionStrategy.colocateVariablesWith(<span class="std">Set</span>(variable1.op)) {
    <span class="cmt">// `variable2` and `variable3` will be created on the same device(s) as `variable1`.</span>
    <span class="kw">val</span> variable2 = tf.variable(...)
    <span class="kw">val</span> variable3 = tf.variable(...)
  }

  <span class="kw">def</span> fn(v1: Variable, v2: Variable, v3: Variable): <span class="std">Unit</span> = {
    <span class="cmt">// Operates on `v1` from `variable1`, `v2` from `variable2`, and `v3` from `variable3`.</span>
  }

  <span class="cmt">// `fn` runs on every device `v1` is on, and `v2` and `v3` will be there too.</span>
  distributionStrategy.update(variable1, fn, variable2, variable3)
}</pre></div><dl class="paramcmts block"><dt class="param">colocationOps</dt><dd class="cmt"><p>Variables created in <code>block</code> will be on the same set of devices as these ops.</p></dd><dt class="param">block</dt><dd class="cmt"><p>Code block to execute in this scope.</p></dd><dt>returns</dt><dd class="cmt"><p>Value returned by <code>block</code>.</p></dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#configure" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="configure(sessionConfig:org.platanios.tensorflow.api.core.client.SessionConfig):Unit"></a>
      <a id="configure(SessionConfig):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">configure</span><span class="params">(<span name="sessionConfig">sessionConfig: <a href="../../../../core/client/SessionConfig.html" class="extype" name="org.platanios.tensorflow.api.core.client.SessionConfig">SessionConfig</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@configure(sessionConfig:org.platanios.tensorflow.api.core.client.SessionConfig):Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Finds and sets the best configuration for the provided TensorFlow session configuration.</p>
    </li><li name="scala.AnyRef#eq" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="eq(x$1:AnyRef):Boolean"></a>
      <a id="eq(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">eq</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@eq(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#equals" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="equals(x$1:Any):Boolean"></a>
      <a id="equals(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">equals</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Any" class="extype" target="_top">Any</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@equals(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#finalize" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="finalize():Unit"></a>
      <a id="finalize():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">finalize</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@finalize():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../../../../../../../../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Throwable]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#getClass" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="getClass():Class[_]"></a>
      <a id="getClass():Class[_]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getClass</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.Class">Class</span>[_]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@getClass():Class[_]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#group" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="group[T](value:org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[T],name:String)(implicitevidence$10:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.Op"></a>
      <a id="group[T](DistributedValue[T],String)(Distributable[T],CrossTowerContext):Op"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">group</span><span class="tparams">[<span name="T">T</span>]</span><span class="params">(<span name="value">value: <a href="../values/DistributedValue.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue">DistributedValue</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.group.T">T</span>]</span>, <span name="name">name: <span class="extype" name="scala.Predef.String">String</span> = <span class="symbol">&quot;Group&quot;</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="arg0">arg0: <a href="../Distributable.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Distributable">Distributable</a>[<span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.group.T">T</span>]</span>, <span name="context">context: <a href="CrossTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext">CrossTowerContext</a></span>)</span><span class="result">: <a href="../../../Op.html" class="extype" name="org.platanios.tensorflow.api.ops.Op">Op</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@group[T](value:org.platanios.tensorflow.api.ops.training.distribute.values.DistributedValue[T],name:String)(implicitevidence$10:org.platanios.tensorflow.api.ops.training.distribute.Distributable[T],implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.CrossTowerContext):org.platanios.tensorflow.api.ops.Op" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Acts as a shortcut for <code>tf.group(distributionStrategy.unwrap(value))</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Acts as a shortcut for <code>tf.group(distributionStrategy.unwrap(value))</code>.
</p></div><dl class="paramcmts block"><dt class="param">value</dt><dd class="cmt"><p>A value returned by <code>forEachTower()</code>, or a variable created in <code>scope</code>.</p></dd><dt class="param">name</dt><dd class="cmt"><p>Name for the created op.</p></dd><dt>returns</dt><dd class="cmt"><p>Grouped unwrapped <code>value</code>.</p></dd></dl></div>
    </li><li name="scala.AnyRef#hashCode" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="hashCode():Int"></a>
      <a id="hashCode():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">hashCode</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Int" class="extype" target="_top">Int</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@hashCode():Int" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.Any#isInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="isInstanceOf[T0]:Boolean"></a>
      <a id="isInstanceOf[T0]:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@isInstanceOf[T0]:Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#mergeCall" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="mergeCall[R](mergeFn:org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy=&gt;R)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.InTowerContext):R"></a>
      <a id="mergeCall[R]((DistributionStrategy)⇒R)(InTowerContext):R"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">mergeCall</span><span class="tparams">[<span name="R">R</span>]</span><span class="params">(<span name="mergeFn">mergeFn: (<a href="" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy">DistributionStrategy</a>) ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.mergeCall.R">R</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="context">context: <a href="InTowerContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.InTowerContext">InTowerContext</a></span>)</span><span class="result">: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.mergeCall.R">R</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@mergeCall[R](mergeFn:org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy=&gt;R)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.InTowerContext):R" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Merges arguments across towers and runs <code>mergeFn</code> in a cross-tower context.</p><div class="fullcomment"><div class="comment cmt"><p>Merges arguments across towers and runs <code>mergeFn</code> in a cross-tower context.</p><p>This allows communication and coordination when there are multiple calls to a model function triggered by a call
to <code>forEachTower(modelFn, ...)</code>. See <code>MirroredDistribution.forEachTower()</code> for an explanation.</p><p>Otherwise, this is equivalent to:</p><pre><span class="kw">val</span> strategy = tf.distribute.currentStrategy
strategy.scope {
  mergeFn(strategy)
}</pre></div><dl class="paramcmts block"><dt class="param">mergeFn</dt><dd class="cmt"><p>Merge function to invoke from within a cross-tower context.</p></dd><dt>returns</dt><dd class="cmt"><p>Result of the <code>mergeFn</code> call, except for per-device values which are unpacked.</p></dd></dl></div>
    </li><li name="scala.AnyRef#ne" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ne(x$1:AnyRef):Boolean"></a>
      <a id="ne(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">ne</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@ne(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notify" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notify():Unit"></a>
      <a id="notify():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notify</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@notify():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notifyAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notifyAll():Unit"></a>
      <a id="notifyAll():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notifyAll</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@notifyAll():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#scope" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="scope[R](block:=&gt;R):R"></a>
      <a id="scope[R](⇒R):R"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">scope</span><span class="tparams">[<span name="R">R</span>]</span><span class="params">(<span name="block">block: ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.scope.R">R</span></span>)</span><span class="result">: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.scope.R">R</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@scope[R](block:=&gt;R):R" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="scala.AnyRef#synchronized" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="synchronized[T0](x$1:=&gt;T0):T0"></a>
      <a id="synchronized[T0](⇒T0):T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: ⇒ <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>)</span><span class="result">: <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@synchronized[T0](x$1:=&gt;T0):T0" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#toString" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="toString():String"></a>
      <a id="toString():String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toString</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@toString():String" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy#towerLocalVariableScope" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="towerLocalVariableScope[R](reduction:org.platanios.tensorflow.api.ops.training.distribute.Reduction)(block:=&gt;R)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionContext):R"></a>
      <a id="towerLocalVariableScope[R](Reduction)(⇒R)(DistributionContext):R"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">towerLocalVariableScope</span><span class="tparams">[<span name="R">R</span>]</span><span class="params">(<span name="reduction">reduction: <a href="../Reduction.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.Reduction">Reduction</a></span>)</span><span class="params">(<span name="block">block: ⇒ <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.towerLocalVariableScope.R">R</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="context">context: <a href="DistributionContext.html" class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionContext">DistributionContext</a></span>)</span><span class="result">: <span class="extype" name="org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy.towerLocalVariableScope.R">R</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@towerLocalVariableScope[R](reduction:org.platanios.tensorflow.api.ops.training.distribute.Reduction)(block:=&gt;R)(implicitcontext:org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionContext):R" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Executes <code>block</code> within a scope where new variables will not be mirrored.</p><div class="fullcomment"><div class="comment cmt"><p>Executes <code>block</code> within a scope where new variables will not be mirrored.</p><p>There will still be one component variable per tower, but there is no requirement that they stay in sync. Instead,
when saving them or calling <code>fetch()</code>, we use the value that results when calling <code>reduce()</code> on all the towers'
variables. Note that tower-local implies not trainable. Instead, it is expected that each tower will directly
update (e.g., using <code>assignAdd()</code>) its local variable instance but only the aggregated value (accessible using
<code>fetch()</code>) will be exported from the model. When it is acceptable to only aggregate on export, we greatly reduce
communication overhead by using tower-local variables.</p><p>Note that all component variables will be initialized to the same value, using the initialization expression from
the first tower. The values will match even if the initialization expression uses random numbers.
</p></div><dl class="paramcmts block"><dt class="param">reduction</dt><dd class="cmt"><p>Reduction method used to get the value to save when creating checkpoints.</p></dd><dt class="param">block</dt><dd class="cmt"><p>Code block to execute in this scope.</p></dd><dt>returns</dt><dd class="cmt"><p>Value returned by <code>block</code>.</p></dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait():Unit"></a>
      <a id="wait():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@wait():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long,x$2:Int):Unit"></a>
      <a id="wait(Long,Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Long" class="extype" target="_top">Long</a></span>, <span name="arg1">arg1: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Int" class="extype" target="_top">Int</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@wait(x$1:Long,x$2:Int):Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long):Unit"></a>
      <a id="wait(Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Long" class="extype" target="_top">Long</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#org.platanios.tensorflow.api.ops.training.distribute.strategies.DistributionStrategy@wait(x$1:Long):Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.11.11/index.html#scala.Any" class="extype" target="_top">Any</a></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
